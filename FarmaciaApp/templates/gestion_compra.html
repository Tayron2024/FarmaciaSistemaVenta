<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Información de Pago</title>

    <!-- Carga de archivo CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>

<body>

    <!-- Contenedor principal de la sección de pago -->
    <main class="container payment-container">
        
        <!-- Título de la sección -->
        <h2>Información de Pago</h2>

        <!-- Mensaje de total a pagar -->
        <div class="total" id="total-a-pagar">
            Total a pagar: $0.00
        </div>

        <!-- Formulario de pago -->
        <form action="confirmacion_pago.html" method="POST">
            
            <!-- Campo oculto para el total -->
            <input type="hidden" id="input-total" name="total" value="">

            <!-- Información personal -->
            <div class="form-group">
                <label for="nombre">Nombre completo</label>
                <input type="text" id="nombre" name="nombre" placeholder="Ingresa tu nombre completo" required>
            </div>

            <div class="form-group">
                <label for="correo">Correo electrónico</label>
                <input type="email" id="correo" name="correo" placeholder="Ingresa tu correo electrónico" required>
            </div>

            <!-- Dirección de envío -->
            <div class="form-group">
                <label for="direccion">Dirección de envío</label>
                <input type="text" id="direccion" name="direccion" placeholder="Ingresa tu dirección de envío" required>
            </div>

            <!-- Información de la tarjeta -->
            <div class="form-group">
                <label for="tarjeta">Número de tarjeta</label>
                <input type="text" id="tarjeta" name="tarjeta" placeholder="1234 5678 9012 3456" required maxlength="19">
            </div>

            <div class="form-group">
                <label for="expiracion">Fecha de expiración</label>
                <input type="month" id="expiracion" name="expiracion" required>
            </div>

            <div class="form-group">
                <label for="cvv">Código CVV</label>
                <input type="password" id="cvv" name="cvv" placeholder="123" required maxlength="3">
            </div>

            <!-- Botón de pago -->
            <button type="submit" class="btn">Pagar ahora</button>

        </form>
    </main>

    <!-- Script para actualizar el total -->
    <script>
        // Recuperar el total almacenado en localStorage
        const totalCompra = localStorage.getItem("totalCompra");

        // Actualizar el texto del total en la página
        if (totalCompra && !isNaN(totalCompra)) {
            document.getElementById("total-a-pagar").textContent = `Total a pagar: $${parseFloat(totalCompra).toFixed(2)}`;
        } else {
            document.getElementById("total-a-pagar").textContent = "Total a pagar: $0.00";
        }
    </script>

</body>

</html>
